<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeQuest Mini-App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #f093fb;
            --success: #4fd1c7;
            --warning: #f6ad55;
            --danger: #fc8181;
            --dark: #2d3748;
            --light: #f7fafc;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: #333;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }
        
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            background: white;
            border-radius: 0;
            overflow: hidden;
            position: relative;
        }
        
        .app-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .user-info {
            text-align: left;
            flex: 1;
        }
        
        .app-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .player-level {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .xp-bar-container {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 8px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .xp-bar {
            background: #FFD700;
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            padding: 15px;
            background: var(--light);
        }
        
        .stat-card {
            background: white;
            padding: 12px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 3px;
        }
        
        .stat-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
        }
        
        .navigation {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            padding: 20px;
            background: white;
        }
        
        .nav-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            font-size: 12px;
        }
        
        .nav-button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .section {
            padding: 20px;
            display: none;
            background: white;
            min-height: 60vh;
        }
        
        .section.active {
            display: block;
        }
        
        .back-button {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quests-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .quest-card {
            background: var(--light);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .quest-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--dark);
        }
        
        .quest-progress {
            background: #e9ecef;
            border-radius: 6px;
            height: 6px;
            margin: 8px 0;
            overflow: hidden;
        }
        
        .quest-progress-bar {
            background: var(--success);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .achievement-card {
            background: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }
        
        .achievement-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .achievement-name {
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .achievement-desc {
            font-size: 10px;
            color: #666;
        }
        
        .shop-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .shop-item {
            background: white;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .item-info {
            flex: 1;
        }
        
        .item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .item-price {
            color: var(--primary);
            font-weight: bold;
        }
        
        .buy-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .empty-icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }
        
        .error-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }
        
        .error-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="app-header">
            <div class="header-content">
                <button class="back-button" onclick="showSection('main')" style="display: none;">‚Üê</button>
                <div class="user-info">
                    <div class="app-title">üéÆ LifeQuest</div>
                    <div class="player-level">–£—Ä–æ–≤–µ–Ω—å 5 ‚Ä¢ –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</div>
                </div>
                <div style="width: 30px;"></div>
            </div>
            
            <div class="xp-bar-container">
                <div class="xp-bar" id="xpBar"></div>
            </div>
            <div>1250 / 2000 XP</div>
        </div>

        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="main" class="section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">3250 ü™ô</div>
                    <div class="stat-label">–ú–æ–Ω–µ—Ç—ã</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">67 ‚ö°</div>
                    <div class="stat-label">–≠–Ω–µ—Ä–≥–∏—è</div>
                </div>
            </div>

            <div class="navigation">
                <button class="nav-button" onclick="showSection('quests')">
                    <div>üéØ</div>
                    <div>–ö–≤–µ—Å—Ç—ã</div>
                </button>
                <button class="nav-button" onclick="showSection('achievements')">
                    <div>üèÜ</div>
                    <div>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
                </button>
                <button class="nav-button" onclick="showSection('shop')">
                    <div>üè™</div>
                    <div>–ú–∞–≥–∞–∑–∏–Ω</div>
                </button>
                <button class="nav-button" onclick="showSection('inventory')">
                    <div>üì¶</div>
                    <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
                </button>
                <button class="nav-button" onclick="showSection('profile')">
                    <div>üë§</div>
                    <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
                </button>
                <button class="nav-button" onclick="showSection('leaderboard')">
                    <div>üèÖ</div>
                    <div>–†–µ–π—Ç–∏–Ω–≥</div>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∫–≤–µ—Å—Ç–æ–≤ -->
        <div id="quests" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üéØ –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã</h3>
            <div class="quests-list">
                <div class="quest-card">
                    <div class="quest-title">–£—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–¥-–º–∞—Ä–∞—Ñ–æ–Ω</div>
                    <div style="font-size: 12px; color: #666; margin-bottom: 8px;">–í—ã–ø–æ–ª–Ω–∏—Ç–µ 3 —Ñ–æ–∫—É—Å-—Å–µ—Å—Å–∏–∏ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é</div>
                    <div class="quest-progress">
                        <div class="quest-progress-bar" style="width: 66.66666666666666%"></div>
                    </div>
                    <div style="font-size: 11px; color: #888; margin-bottom: 8px;">
                        2/3 ‚Ä¢ –ù–∞–≥—Ä–∞–¥–∞: 100 XP + 50 ü™ô
                    </div>
                    <button onclick="completeQuest('1')" 
                            style="background: var(--success); color: white; border: none; padding: 8px 12px; border-radius: 6px; width: 100%; cursor: pointer; font-size: 12px;">
                        ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç
                    </button>
                </div>
                <div class="quest-card">
                    <div class="quest-title">–ò–∑—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</div>
                    <div style="font-size: 12px; color: #666; margin-bottom: 8px;">–ü–æ—Ç—Ä–∞—Ç—å—Ç–µ 2 —á–∞—Å–∞ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ React</div>
                    <div class="quest-progress">
                        <div class="quest-progress-bar" style="width: 50%"></div>
                    </div>
                    <div style="font-size: 11px; color: #888; margin-bottom: 8px;">
                        1/2 ‚Ä¢ –ù–∞–≥—Ä–∞–¥–∞: 80 XP + 40 ü™ô
                    </div>
                    <button onclick="completeQuest('2')" 
                            style="background: var(--success); color: white; border: none; padding: 8px 12px; border-radius: 6px; width: 100%; cursor: pointer; font-size: 12px;">
                        ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
        <div id="achievements" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üèÜ –í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
            <div class="achievement-grid">
                <div class="achievement-card">
                    <div class="achievement-icon">üéØ</div>
                    <div class="achievement-name">–ù–æ–≤–∏—á–æ–∫ —Ñ–æ–∫—É—Å–∞</div>
                    <div class="achievement-desc">–ó–∞–≤–µ—Ä—à–∏—Ç–µ 5 —Ñ–æ–∫—É—Å-—Å–µ—Å—Å–∏–π</div>
                    <div style="font-size: 10px; color: var(--success); margin-top: 5px;">
                        +100 XP
                    </div>
                </div>
                <div class="achievement-card">
                    <div class="achievement-icon">üòä</div>
                    <div class="achievement-name">–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</div>
                    <div class="achievement-desc">–ó–∞–ø–∏—à–∏—Ç–µ 10 —ç–º–æ—Ü–∏–π</div>
                    <div style="font-size: 10px; color: var(--success); margin-top: 5px;">
                        +80 XP
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ -->
        <div id="shop" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üè™ –ú–∞–≥–∞–∑–∏–Ω</h3>
            <div class="shop-items">
                <div class="shop-item">
                    <div class="item-info">
                        <div class="item-name">–ë—É—Å—Ç –æ–ø—ã—Ç–∞</div>
                        <div style="font-size: 12px; color: #666;">+25% –∫ –ø–æ–ª—É—á–∞–µ–º–æ–º—É –æ–ø—ã—Ç—É –Ω–∞ 24 —á–∞—Å–∞</div>
                        <div class="item-price">100 ü™ô</div>
                    </div>
                    <button class="buy-button" onclick="buyItem('1')">
                        –ö—É–ø–∏—Ç—å
                    </button>
                </div>
                <div class="shop-item">
                    <div class="item-info">
                        <div class="item-name">–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫</div>
                        <div style="font-size: 12px; color: #666;">+50 —ç–Ω–µ—Ä–≥–∏–∏</div>
                        <div class="item-price">75 ü™ô</div>
                    </div>
                    <button class="buy-button" onclick="buyItem('2')">
                        –ö—É–ø–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
        <div id="inventory" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üì¶ –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
            <div class="quests-list">
                <div class="shop-item">
                    <div class="item-info">
                        <div class="item-name">–ë—É—Å—Ç –æ–ø—ã—Ç–∞ √ó1</div>
                        <div style="font-size: 12px; color: #666;">–ê–∫—Ç–∏–≤–µ–Ω –µ—â–µ 12 —á–∞—Å–æ–≤</div>
                    </div>
                    <button class="buy-button" onclick="useItem('1')" 
                            style="background: var(--accent);">
                        –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profile" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h3>
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div class="stat-label">–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ –∫–≤–µ—Å—Ç–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1250</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –æ–ø—ã—Ç–∞</div>
                </div>
                <div class="quest-card">
                    <div class="quest-title">üéØ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</div>
                    <div style="font-size: 14px; color: #666;">–°—Ç–∞—Ç—å full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º</div>
                </div>
                <div class="quest-card">
                    <div class="quest-title">üìç –°—Ñ–µ—Ä–∞ —Ñ–æ–∫—É—Å–∞</div>
                    <div style="font-size: 14px; color: #666;">–ö–∞—Ä—å–µ—Ä–∞ –∏ IT</div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–π—Ç–∏–Ω–≥–∞ -->
        <div id="leaderboard" class="section">
            <h3 style="padding: 0; margin: 0 0 15px 0;">üèÖ –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h3>
            <div class="quests-list">
                <div class="quest-card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>ü•á –ê–ª–µ–∫—Å–µ–π</strong>
                            <div style="font-size: 12px; color: #666;">
                                –£—Ä. 15 ‚Ä¢ 5000 XP
                            </div>
                        </div>
                        <div style="font-weight: bold; color: var(--primary);">
                            2500 ü™ô
                        </div>
                    </div>
                </div>
                <div class="quest-card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>ü•à –ú–∞—Ä–∏—è</strong>
                            <div style="font-size: 12px; color: #666;">
                                –£—Ä. 12 ‚Ä¢ 3500 XP
                            </div>
                        </div>
                        <div style="font-weight: bold; color: var(--primary);">
                            1800 ü™ô
                        </div>
                    </div>
                </div>
                <div class="quest-card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>ü•â –î–º–∏—Ç—Ä–∏–π</strong>
                            <div style="font-size: 12px; color: #666;">
                                –£—Ä. 8 ‚Ä¢ 2000 XP
                            </div>
                        </div>
                        <div style="font-weight: bold; color: var(--primary);">
                            1200 ü™ô
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const userData = {
            user_id: 12345,
            level: 5,
            title: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å",
            xp: 1250,
            next_level_xp: 2000,
            xp_progress: 62.5,
            coins: 3250,
            energy: 67,
            life_goal: "–°—Ç–∞—Ç—å full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º",
            focus_area: "–ö–∞—Ä—å–µ—Ä–∞ –∏ IT",
            total_quests_completed: 12
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        let tg = window.Telegram?.WebApp;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Telegram WebApp –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
            if (tg) {
                tg.expand();
                tg.enableClosingConfirmation();
                tg.ready();
                console.log('Telegram WebApp initialized');
            } else {
                console.log('Running in standalone mode');
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
            const xpBar = document.getElementById('xpBar');
            if (xpBar) {
                xpBar.style.width = '0%';
                setTimeout(() => {
                    xpBar.style.width = userData.xp_progress + '%';
                }, 300);
            }
            
            console.log('LifeQuest Mini-App initialized successfully');
        });
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
        function showSection(sectionId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById(sectionId).classList.add('active');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
            const backButton = document.querySelector('.back-button');
            if (sectionId === 'main') {
                backButton.style.display = 'none';
            } else {
                backButton.style.display = 'flex';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            updateHeader(sectionId);
        }
        
        function updateHeader(sectionId) {
            const titles = {
                'main': 'üéÆ LifeQuest',
                'quests': 'üéØ –ö–≤–µ—Å—Ç—ã',
                'achievements': 'üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è', 
                'shop': 'üè™ –ú–∞–≥–∞–∑–∏–Ω',
                'inventory': 'üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å',
                'profile': 'üë§ –ü—Ä–æ—Ñ–∏–ª—å',
                'leaderboard': 'üèÖ –†–µ–π—Ç–∏–Ω–≥'
            };
            
            const titleElement = document.querySelector('.app-title');
            if (titleElement && titles[sectionId]) {
                titleElement.textContent = titles[sectionId];
            }
        }
        
        // –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç–æ–º
        function sendDataToBot(action, data) {
            if (tg && tg.sendData) {
                tg.sendData(JSON.stringify({
                    action: action,
                    ...data,
                    user_id: userData.user_id
                }));
            } else {
                console.log('Bot action:', action, data);
                alert('–î–µ–π—Å—Ç–≤–∏–µ: ' + action + '\n–î–∞–Ω–Ω—ã–µ: ' + JSON.stringify(data) + '\n\n–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ—Ç—É');
            }
        }
        
        function buyItem(itemId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç?')) {
                sendDataToBot('buy_item', { item_id: itemId });
            }
        }
        
        function completeQuest(questId) {
            sendDataToBot('complete_quest', { quest_id: questId });
        }
        
        function useItem(itemId) {
            sendDataToBot('use_item', { item_id: itemId });
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–æ—Ç–∞ (–µ—Å–ª–∏ –≤ Telegram)
        if (tg) {
            tg.onEvent('viewportChanged', function() {
                tg.expand();
            });
            
            tg.onEvent('closeButtonClicked', function() {
                tg.close();
            });
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
        window.showSection = showSection;
        window.buyItem = buyItem;
        window.completeQuest = completeQuest;
        window.useItem = useItem;
    </script>
</body>
</html>
